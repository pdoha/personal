<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"> <!--로그인 상태 체크 & 관리자인지 체크-->
    <header th:fragment="common">
        <!--미로그인 상태-->
        <th:block sec:authorize="isAnonymous()">
           <!-- -> 회원가입 & 로그인 링크 노출-->
            <a th:href="@{/member/join}" th:text="#{회원가입}"></a>

            <a th:href="@{/member/login}" th:text="#{로그인}"></a>

        </th:block>

        <!--로그인 상태-->
        <th:block sec:authorize="isAuthenticated()">
            <!-- -> 마이페이지 & 로그아웃 링크 노출-->
            <!--로그인한 사용자 정보도 같이 출력 식객체 #messages의 msg 메서드 사용 -->
            <span th:text="${#messages.msg('LOGIN_MSG', session.member.name, session.member.userId)}"></span>
            <a th:href="@{/mypage}" th:text="#{마이페이지}"></a>
            <a th:href="@{/member/logout}" th:text="#{로그아웃}"></a>

            <!--관리자이면 관리자페이지 링크 노출-->
            <a sec:authorize="hasAnyAuthority('ADMIN', 'MANAGER')" th:href="@{/admin}"
               th:text="#{사이트_관리}"></a>

        </th:block>
        <h1>헤더</h1>
    </header>

</html>